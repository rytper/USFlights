Решалась задача визуализации графа авиаперелетов в США за 2003-2008 годы.

Для задачи были взяты данные из http://stat-computing.org/dataexpo/2009/the-data.html, там данные обо всех коммерческих
авиаперелетах, совершенных в США. Для решения задачи из этого датасета были выделены данные о количестве перелетов между
аэропортами, которые находятся в файле whole_data.csv, а также данные о количестве перелетов для семи авиакомпаний,
которые находятся в отдельных файлах.

Поскольку изображение всех авиаперелетов будет крайне тяжело для восприятия было поставлено следующее ограничение на граф:
он должен быть планарным. Помимо этого в выборке были оставлены только 100 самых загруженных аэропортов из каждого набора.
Далее для выделения значимых авиалиний применялся жадный алгоритм: ребра по очереди добавляются в граф, начиная от самых
загруженных направлений в порядке уменьшения загруженности. Если при добавлении очередного ребра граф перестает быть планарным, 
то ребро игнорируется. На количество перелетов также был установлен фильтр: не менее 40000 перелетов в случае всех перелетов и 
не менее 10000 перелетов для данных по отдельным авиакомпаниям. Проверка графа на планарность осуществлялась при помощи 
гамма-алгоритма, он же по окончании добавления ребер построил грани нашего графа.

После построения графа было выделено множество важных городов как компонента реберной двусвязности графа, содержащая самый
загруженный аэропорт (для множества всех перелетов это ATL). 

Сначала была попытка построить резиновую укладку Татта для нашего графа и для этого были добавлены фиктивные ребра в наш граф
так, чтобы он стал триангуляцией, но оказалось, что она очень плохо подходит для визуализации большого количества аэропортов 
(в основном случае получилось порядка 50 аэропортов), поскольку в этом случае расстояние между вершинами может быть
экспоненциально малым.

Встал вопрос, а как добиться того, чтобы в нашей укладке вершины и ребра были лостаточно далеко друг от друга?
Для этого была предпринята попытка построения графа таким образом, чтобы все грани, кроме внешней имели одинаковую площадь.
Сначала был опробован метод, похожий на градиентный спуск, однако он не дал результатов, поэтому была реализована
следующая идея: если из графа удалить вершину степени 3, то ее положение можно однозначно восстановить таким образом, 
чтобы все грани имели равную площадь (если такое в принципе возможно). Во всех случаях, кроме авиакомпании Southwest после 
повторения этой процедуры остался граф на трех вершинах и как следствие получилась укладка, в которой все грани, кроме внешней
имели одинаковую площадь. В случае авиакомпании Southwest остался граф на 9 вершинах и к нему была применена резиновая укладка 
Татта, которая дала достаточно неплохой результат. 

В графе всех авиалиний практически растворились все три аэропорта Нью-Йорка, что натолкнуло меня на мысль сделать еще
изображение авиалиний не между аэропортами, а между городами. Более того некоторые города из одной агломерации были объединены 
в один (Сан-Франциско, Сан-Хосе и Окленд были выделены как SFB (аэропорты SFO, SJC, OAK), а Балтимор и Вашингтон как BDC 
(аэропорты BWI, IAD, DCA)). 

Помимо выделения ребер необходимо было показать, какие направления загружены, а какие не очень. Для этого были выбраны 4 хорошо 
различимых цвета: самые загруженные красный, далее оранжевый, желто-зеленый и зеленый для наименее загруженных (первоначально 
была попвтка использовать встроенную функцию окраски цветовой схемой RdYlGn, но оказалось, что ребра раскрашиваются по функции,
отличной от количества перелетов). Границы были выбраны следующим образом:

120000, 80000, 60000 для перелетов между городами

100000, 70000, 50000 для перелетов между аэропортами

40000, 25000, 15000 для авиакомпаний

В результате получилось 9 изображений, находящихся в репозитории. Интересно было бы также визуализировать не количество 
перелетов, а пассажиропоток на каждом направлении.
